version: '3.1'
services:
  web:
    image: odoo:14.0
    container_name: odoo_14
    depends_on:
      - db
    ports:
      - 9000:8069
      - 9001:8072
    volumes:
        - ./data/odoo:/var/lib/odoo
        - ./config:/etc/odoo
        - ./addons:/mnt/extra
    environment:
      - HOST=db
      - USER=odoo14
      - PASSWORD=odoo14

  db:
    image: postgres:12
    container_name: postgres_12
    ports:
      -5432:5432
    
  volumes:    
    - ./data/postgres:/var/lib/postgresql/data

  environment:
    - POSTGRES_PASSWORD=odoo14
    - POSTGRES_USER=odoo14
    - POSTGRES_DB=postgres 
